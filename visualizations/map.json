{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Interactive map of Malaysia with zoom to Sepang International Circuit",
  "width": 600,
  "height": 400,
  "projection": {"type": "mercator", "center": [101.5, 3.5], "scale": 1200},
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/vega/vega-datasets/main/data/world-110m.json",
        "format": {"type": "topojson", "feature": "countries"}
      },
      "mark": {"type": "geoshape", "fill": "#f5f5f5", "stroke": "#999", "strokeWidth": 0.5}
    },
    {
      "data": { 
        "url": "https://raw.githubusercontent.com/vega/vega-datasets/main/data/world-110m.json",
        "format": {"type": "topojson", "feature": "countries"}
      },
      "transform": [
        {"filter": "datum.properties.NAME == 'Malaysia'"}
      ],
      "mark": {"type": "geoshape", "fill": "#ffe599", "stroke": "#333", "strokeWidth": 1}
    },
    {
      "data": {
        "values": [
          {"circuit": "Sepang International Circuit", "city": "Sepang", "country": "Malaysia", "lon": 101.742, "lat": 2.7608}
        ]
      },
      "mark": {"type": "circle", "fill": "red", "size": 200},
      "encoding": {
        "longitude": {"field": "lon", "type": "quantitative"},
        "latitude": {"field": "lat", "type": "quantitative"},
        "tooltip": [
          {"field": "circuit", "title": "Circuit"},
          {"field": "city", "title": "City"},
          {"field": "country", "title": "Country"}
        ]
      }
    },
    {
      "data": {
        "values": [
          {"circuit": "Sepang International Circuit", "lon": 101.742, "lat": 2.7608}
        ]
      },
      "mark": {
        "type": "text",
        "align": "left",
        "dx": 8,
        "dy": -8,
        "fontSize": 12,
        "fontWeight": "bold",
        "fill": "red"
      },
      "encoding": {
        "longitude": {"field": "lon", "type": "quantitative"},
        "latitude": {"field": "lat", "type": "quantitative"},
        "text": {"field": "circuit"}
      }
    }
  ],
  "config": {
    "view": {"stroke": "transparent"},
    "background": "white"
  }
}